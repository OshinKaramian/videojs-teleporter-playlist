/*! videojs-overlay - v0.1.0-0 - 2014-07-16
* Copyright (c) 2014 Brightcove; Licensed Apache-2.0 */
!function(a,b){"use strict";var c,d,e,f={content:"This overlay will show up while the video is playing",overlays:[{start:"playing",end:"paused"}]},g=function(a,b){return a.start-b.start},h=function(a,b){return a.end-b.end};c=function(a,b,c){var d=document.createElement("div"),e=c.content||b.content,f=b.align||c.align;d.className="vjs-overlay",c.el=d,f&&(d.className+=" vjs-overlay-"+f),"string"==typeof e?d.innerHTML=e:d.appendChild(e),a.el().appendChild(d)},d=function(a,b,c){c.el.parentNode.removeChild(c.el),delete c.el},e=function(a){var e,i,j=b.util.mergeOptions(f,a),k=this,l={},m=[],n=[],o=function(a){for(var b,d=l[a.type],e=d.length;e--;)b=d[e],b.el||c(k,j,b)},p=function(a){for(var b,c=l[a.type],e=c.length;e--;)b=c[e],b.el&&d(k,j,b)},q=function(a,b,c){var d,e=0,f=0;d=function(){var d=a[f],g=k.currentTime();for(e>g&&(f=0,d=a[f]);d&&d[b]<=g;d=a[++f])c(k,j,d);e=g},k.on("timeupdate",d),k.overlay.eventListeners.push({type:"timeupdate",fn:d})};!function(){var a,b;for(b in k.overlay.eventListeners)a=k.overlay.eventListeners[b],k.off(a.type,a.fn)}(),k.overlay.eventListeners=[];for(i in j.overlays)e=j.overlays[i],"string"==typeof e.start?(l[e.start]||(l[e.start]=[],k.on(e.start,o),k.overlay.eventListeners.push({type:e.start,fn:o})),l[e.start].push(e)):m.push(e),"string"==typeof e.end?(l[e.end]||(l[e.end]=[],k.on(e.end,p),k.overlay.eventListeners.push({type:e.end,fn:p})),l[e.end].push(e)):n.push(e);m.length&&(m.sort(g),q(m,"start",c)),n.length&&(n.sort(h),q(n,"end",function(a,b,c){c.el&&d(a,b,c)}))},b.plugin("overlay",e)}(window,window.videojs);